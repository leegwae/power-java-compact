# CH12. Generic and Collections

## 12.1 제네릭이란?

- **제네릭 프로그래밍(generic programming)**: 다양한 종류의 데이터를 처리할 수 있는 클래스와 메서드를 작성하는 기법

```java
class 제네릭클래스<T>{
    
}
```

- `T`: 타입 파라미터



```java
class Box<T> {
    private T data;
    public void set(T data){ this.data = data; }
    public T get() { return data; }
}
```

```java
Box<Integer> box = new Box<Integers>();
box.set(100);
int i = box.get();
```



### 다이아몬드 <>

```java
Box<String> box = new Box<>();
```

- 자바 7 버전 이상부터
- 타입 인수를 구체적으로 주지 않아도 컴파일러가 문맥에서 타입을 추측한다.



## 12.2 컬렉션

```java
java.util.Vector;
```

- **컬렉션(collection)**: 자바에서 자료 구조를 구현한 클래스
- 리스트, 스택, 큐, 집합, 해쉬 테이블 등



### 12.2.1 컬렉션의 종류

- 초기 버전: `Vector`, `Stack`, `HashTable`



`Iterable`

- `Collecction`
  - `Set`
    - `HashSet`
    - `TreeSet`
    - `SortedSet`
  - `List`
    - `ArrayList`
    - `LinkedList`
- `Map`
  - `HashMap`
  - `TreeMap`
  - `SorteMap`
  - 

#### 12.2.1.1 컬렉션 인터페이스

| 인터페이스   | 설명                                                     |
| ------------ | -------------------------------------------------------- |
| `Collection` | 모든 자료구조의 부모 인터페이스                          |
| `Set`        | 집합을 나타냄. 원소 중복 불가능                          |
| `List`       | 순서가 있는 자료구조. 중복된 원소 가능. 동적 배열을 정의 |
| `Map`        | 키와 값들이 연결된 자료구조                              |
| `Queue`      | 들어온 순서대로 나가는 자료구조                          |



#### 12.2.1.2 배열과 컬렉션의 차이점

- 배열은 크기(length)가 정해져있지만 컬렉션은 그렇지 않다.
- 런타임에 크기를 바꿀 수 있다.



### 12.2.2 컬렉션의 특징

- 컬렉션에는 객체만 저장할 수 있다.
- 컬렉션은 제네릭을 사용한다.
- 기본 자료형을 저장하면 오토박싱에 의하여 자동으로 랩퍼 클래스의 객체로 변환된다.

```java
ArrayList<Integer> nums = new ArrayList<Interger>();
```



### 컬렉션의 크기 구하기

```java
컬렉션객체.size();
```



## 12.2 벡터(vector)

- 벡터(vector) 클래스: 가변 크기의 배열

```java
import java.util,Vector;

public class VectorTest {
    public static void main(String[] args){
        Vector vector = new Vector();
        vector.add("Hello, world!");
        vector.add(20);
        for (int i = 0 ; i < vector.size; i++){
            System,out.println(vector[i]);
        }
    }
}
```

```java
Vector<String> strs = new Vector<String>();
strs.add("A");
strs.add("B");

Collections.sort(vec);

for (String s : strs){
    System.out.println(s);
}
```


| 메서드               | 반환 | 설명                    |
| -------------------- | ---- | ----------------------- |
| `add(index, object)` |      | `index`에 `object` 삽입 |
| `get(index)`         |      | `index`에서 값을 추출   |



## 12.4 ArrayList

- `ArrayList`: 배열의 향상된 버전 또는 가변 크기의 배열

```java
ArrayList<String> list = new ArrayList<String>();
list.add("A");
list.add("B");
list.add("C");
list.add(2, "D");	// 인덱스 2에 객체 삽입하기
list.set(2, "D");	// 인덱스 2에 객체 바꾸기
list.remove(3);		// 인덱스 3의 객체 빼기



## Set 인터페이스를 구현하는 방법

- `HashSet` 성능 좋다. 원소 순서 일정하지 않다.

​```java
s1.retainAll(s2);	// 교집합
Set<Integer> set1 = new Set<Integer>({1, 2, 3, 4,5});
```



## 12.5 Set

- 동일한 데이터를 중복하여 가질 수 없다.

```java
// 중복된 단어 검출하기
import java.util.Set;
import java.util.HashSet;

public class HashSetTest {

	public static void main(String[] args) {
		Set<String> s = new HashSet<String>();
		String[] sample = { "사과", "사과", "바나나", "토마토" };
        
		for (String a : sample) {
			if (!s.add(a)) System.out.println("중복된 단어: " + a);
		}
		System.out.println(s.size() + "중복되지 않은 단어: " + s);
	}

}

```



```java
셋객체.add(객체);
```

- `객체`가 이미 `셋객체`의 요소라면 `false`를, 그렇지 않다면 `true`를 반환한다.



### 12.5.1 합집합과 교집합

| 메서드        | 설명   |
| ------------- | ------ |
| `addAll()`    | 합집합 |
| `retainAll()` | 교집합 |



```java
Set<Integer> s1 = new HashSet<>(Arrays.asList(1, 2, 3, 4, 5, 7, 9));
Set<Integer> s2 = new HashSet<>(Arrays.asList(2, 4, 6, 8));

s1.retainAll(s2);
System.out.println(s1);		// [2, 4]
```



```java
Arrays.asList();
```

- 배열 데이터를 리스트로 변경한다.



## 12.6 Map

- 인터페이스 `Map`을 구현한 클래스

| 맵              | 설명                                                         |
| --------------- | ------------------------------------------------------------ |
| `HashMap`       | 해싱 테이블에 데이터를 저장. 키들을 정렬된 순서로 순회해야한다면 `TreeMap`에 비해 조금 빠르다. |
| `TreeMap`       | 탐색 트리에 데이터를 저장                                    |
| `LinkedHashMap` |                                                              |



```java
Map<String, Integer> temps = new HashMap<String, Intger();
temps.put("Name", 1);		// 객체 넣기

String key = "100";			// 객체 추출
value = temp.get(key);
```



## 12.7 람다식

- **람다식(lambda expression)**: 이름이 없는 메서드

```java
(arg1, arg2, ...,) -> { body } 
```

```java
(int a, int b) -> { return a + b; }
```



## 12.8 Collections 클래스

- `Collections` 클래스의 메서드들의 첫번째 매개변수는 알고리즘이 적용되는 컬렉션이 된다.
  - 정렬, 섞기, 탐색



### 12.8.1 정렬

```java
Collections.sort(list);
```



